{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:slashcommands-leave/leave.js"],"names":["Leave","command","params","item","Meteor","call","rid","error","RocketChat","Notifications","notifyUser","userId","_id","Random","id","ts","Date","msg","TAPi18n","__","user","language","isClient","slashCommands","add","undefined","description"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;EAIA,SAASA,KAAT,CAAeC,OAAf,EAAwBC,MAAxB,EAAgCC,IAAhC,EAAsC;AACrC,KAAIF,YAAY,OAAZ,IAAuBA,YAAY,MAAvC,EAA+C;AAC9C;AACA;;AACD,KAAI;AACHG,SAAOC,IAAP,CAAY,WAAZ,EAAyBF,KAAKG,GAA9B;AACA,EAFD,CAEE,aAAgB;AAAA,MAARC,KAAQ,QAARA,KAAQ;AACjBC,aAAWC,aAAX,CAAyBC,UAAzB,CAAoCN,OAAOO,MAAP,EAApC,EAAqD,SAArD,EAAgE;AAC/DC,QAAKC,OAAOC,EAAP,EAD0D;AAE/DR,QAAKH,KAAKG,GAFqD;AAG/DS,OAAI,IAAIC,IAAJ,EAH2D;AAI/DC,QAAKC,QAAQC,EAAR,CAAWZ,KAAX,EAAkB,IAAlB,EAAwBH,OAAOgB,IAAP,GAAcC,QAAtC;AAJ0D,GAAhE;AAMA;AACD;;AACD,IAAIjB,OAAOkB,QAAX,EAAqB;AACpBd,YAAWe,aAAX,CAAyBC,GAAzB,CAA6B,OAA7B,EAAsCC,SAAtC,EAAiD;AAChDC,eAAa;AADmC,EAAjD;AAGAlB,YAAWe,aAAX,CAAyBC,GAAzB,CAA6B,MAA7B,EAAqCC,SAArC,EAAgD;AAC/CC,eAAa;AADkC,EAAhD;AAGA,CAPD,MAOO;AACNlB,YAAWe,aAAX,CAAyBC,GAAzB,CAA6B,OAA7B,EAAsCxB,KAAtC;AACAQ,YAAWe,aAAX,CAAyBC,GAAzB,CAA6B,MAA7B,EAAqCxB,KAArC;AACA,0E","file":"/packages/rocketchat_slashcommands-leave.js","sourcesContent":["\n/*\n* Leave is a named function that will replace /leave commands\n* @param {Object} message - The message object\n*/\nfunction Leave(command, params, item) {\n\tif (command !== 'leave' && command !== 'part') {\n\t\treturn;\n\t}\n\ttry {\n\t\tMeteor.call('leaveRoom', item.rid);\n\t} catch ({error}) {\n\t\tRocketChat.Notifications.notifyUser(Meteor.userId(), 'message', {\n\t\t\t_id: Random.id(),\n\t\t\trid: item.rid,\n\t\t\tts: new Date,\n\t\t\tmsg: TAPi18n.__(error, null, Meteor.user().language)\n\t\t});\n\t}\n}\nif (Meteor.isClient) {\n\tRocketChat.slashCommands.add('leave', undefined, {\n\t\tdescription: 'Leave_the_current_channel'\n\t});\n\tRocketChat.slashCommands.add('part', undefined, {\n\t\tdescription: 'Leave_the_current_channel'\n\t});\n} else {\n\tRocketChat.slashCommands.add('leave', Leave);\n\tRocketChat.slashCommands.add('part', Leave);\n}\n"]}