{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:tooltip/rocketchat-tooltip.js","meteor://ðŸ’»app/packages/rocketchat:tooltip/init.js"],"names":["RocketChat","tooltip","source","initiated","opened","init","Blaze","render","Template","rocketchatTooltip","document","body","showElement","element","timeout","clearTimeout","setTimeout","$","empty","append","clone","show","setPosition","addClass","hide","removeClass","sourcePos","offset","sourceWidth","outerWidth","tip","top","outerHeight","left","css","main","onCreated"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+BACAA,WAAWC,OAAX,GAAqB;AACpBC,SAAQ,IADY;AAEpBC,YAAW,KAFS;AAGpBC,SAAQ,KAHY;AAKpBC,KALoB,cAKb;AACN,MAAI,KAAKF,SAAT,EAAoB;AACnB;AACA;;AACD,OAAKA,SAAL,GAAiB,IAAjB;AAEAG,QAAMC,MAAN,CAAaC,SAASC,iBAAtB,EAAyCC,SAASC,IAAlD;AACA,EAZmB;AAcpBC,YAdoB,YAcRC,OAdQ,EAcCX,MAdD,EAcS;AAAA;;AAC5B,MAAI,KAAKE,MAAT,EAAiB;AAChB;AACA;;AAED,MAAI,KAAKU,OAAT,EAAkB;AACjBC,gBAAa,KAAKD,OAAlB;AACA;;AAED,OAAKA,OAAL,GAAeE,WAAW,YAAM;AAC/B,SAAKF,OAAL,GAAe,IAAf;AACA,SAAKZ,MAAL,GAAcA,MAAd;AAEAe,KAAE,mBAAF,EAAuBC,KAAvB,GAA+BC,MAA/B,CAAsCF,EAAEJ,OAAF,EAAWO,KAAX,GAAmBC,IAAnB,EAAtC;;AAEA,SAAKC,WAAL,GAAmBC,QAAnB,CAA4B,MAA5B;;AAEA,SAAKnB,MAAL,GAAc,IAAd;AACA,GATc,EASZ,GATY,CAAf;AAWA,EAlCmB;AAoCpBoB,KApCoB,cAoCb;AACN,MAAI,KAAKV,OAAT,EAAkB;AACjBC,gBAAa,KAAKD,OAAlB;AACA;;AAED,MAAI,KAAKV,MAAT,EAAiB;AAChBa,KAAE,UAAF,EAAcQ,WAAd,CAA0B,MAA1B;AACAR,KAAE,mBAAF,EAAuBC,KAAvB;AACA,QAAKd,MAAL,GAAc,KAAd;AACA;AACD,EA9CmB;AAgDpBkB,YAhDoB,cAgDN;AACb,MAAMI,YAAYT,EAAE,KAAKf,MAAP,EAAeyB,MAAf,EAAlB;AAEA,MAAMC,cAAcX,EAAE,KAAKf,MAAP,EAAe2B,UAAf,EAApB;AAEA,MAAMC,MAAMb,EAAE,UAAF,CAAZ;AAEA,MAAIc,MAAML,UAAUK,GAAV,GAAgBD,IAAIE,WAAJ,EAAhB,GAAoC,CAA9C;AACA,MAAIC,OAAOP,UAAUO,IAArB;AAEAA,SAAOA,OAAQL,cAAc,CAAtB,GAA4BE,IAAID,UAAJ,KAAmB,CAAtD;;AAEA,MAAII,OAAO,CAAX,EAAc;AACbhB,KAAE,yBAAF,EAA6BiB,GAA7B,CAAiC;AAChC,mBAAmBD,OAAO,CAA1B;AADgC,IAAjC;AAGAA,UAAO,CAAP;AACA,GALD,MAKO;AACNhB,KAAE,yBAAF,EAA6BiB,GAA7B,CAAiC;AAChC,mBAAe;AADiB,IAAjC;AAGA;;AAED,MAAIH,MAAM,CAAV,EAAa;AACZA,SAAML,UAAUK,GAAV,GAAgBd,EAAE,KAAKf,MAAP,EAAe8B,WAAf,EAAhB,GAA+C,CAArD;AACAF,OAAIP,QAAJ,CAAa,QAAb;AACA,GAHD,MAGO;AACNO,OAAIL,WAAJ,CAAgB,QAAhB;AACA;;AAED,SAAOK,IACLI,GADK,CACD;AACJH,QAASA,GAAT,OADI;AAEJE,SAAUA,IAAV;AAFI,GADC,CAAP;AAKA;AAnFmB,CAArB,4F;;;;;;;;;;;ACDAzB,SAAS2B,IAAT,CAAcC,SAAd,CAAwB,YAAW;AAClCpC,YAAWC,OAAX,CAAmBI,IAAnB;AACA,CAFD,4F","file":"/packages/rocketchat_tooltip.js","sourcesContent":["/* globals Blaze, RocketChat */\nRocketChat.tooltip = {\n\tsource: null,\n\tinitiated: false,\n\topened: false,\n\n\tinit() {\n\t\tif (this.initiated) {\n\t\t\treturn;\n\t\t}\n\t\tthis.initiated = true;\n\n\t\tBlaze.render(Template.rocketchatTooltip, document.body);\n\t},\n\n\tshowElement(element, source) {\n\t\tif (this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tthis.timeout = setTimeout(() => {\n\t\t\tthis.timeout = null;\n\t\t\tthis.source = source;\n\n\t\t\t$('.tooltip .content').empty().append($(element).clone().show());\n\n\t\t\tthis.setPosition().addClass('show');\n\n\t\t\tthis.opened = true;\n\t\t}, 300);\n\n\t},\n\n\thide() {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tif (this.opened) {\n\t\t\t$('.tooltip').removeClass('show');\n\t\t\t$('.tooltip .content').empty();\n\t\t\tthis.opened = false;\n\t\t}\n\t},\n\n\tsetPosition() {\n\t\tconst sourcePos = $(this.source).offset();\n\n\t\tconst sourceWidth = $(this.source).outerWidth();\n\n\t\tconst tip = $('.tooltip');\n\n\t\tlet top = sourcePos.top - tip.outerHeight() - 5;\n\t\tlet left = sourcePos.left;\n\n\t\tleft = left + (sourceWidth / 2) - (tip.outerWidth() / 2);\n\n\t\tif (left < 0) {\n\t\t\t$('.tooltip .tooltip-arrow').css({\n\t\t\t\t'margin-left': `${ left - 5 }px`\n\t\t\t});\n\t\t\tleft = 0;\n\t\t} else {\n\t\t\t$('.tooltip .tooltip-arrow').css({\n\t\t\t\t'margin-left': ''\n\t\t\t});\n\t\t}\n\n\t\tif (top < 0) {\n\t\t\ttop = sourcePos.top + $(this.source).outerHeight() + 5;\n\t\t\ttip.addClass('bellow');\n\t\t} else {\n\t\t\ttip.removeClass('bellow');\n\t\t}\n\n\t\treturn tip\n\t\t\t.css({\n\t\t\t\ttop: `${ top }px`,\n\t\t\t\tleft: `${ left }px`\n\t\t\t});\n\t}\n};\n","Template.main.onCreated(function() {\n\tRocketChat.tooltip.init();\n});\n"]}