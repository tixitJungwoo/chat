{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:wordpress/common.js"],"names":["config","serverURL","identityPath","addAutopublishFields","forLoggedInUser","forOtherUsers","WordPress","CustomOAuth","Meteor","isServer","startup","RocketChat","settings","get","key","value","configure","Tracker","autorun"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yBAEA,IAAMA,SAAS;AACdC,YAAW,EADG;AAEdC,eAAc,WAFA;AAGdC,uBAAsB;AACrBC,mBAAiB,CAAC,oBAAD,CADI;AAErBC,iBAAe,CAAC,+BAAD;AAFM;AAHR,CAAf;AASA,IAAMC,YAAY,IAAIC,WAAJ,CAAgB,WAAhB,EAA6BP,MAA7B,CAAlB;;AAEA,IAAIQ,OAAOC,QAAX,EAAqB;AACpBD,QAAOE,OAAP,CAAe,YAAW;AACzB,SAAOC,WAAWC,QAAX,CAAoBC,GAApB,CAAwB,mBAAxB,EAA6C,UAASC,GAAT,EAAcC,KAAd,EAAqB;AACxEf,UAAOC,SAAP,GAAmBc,KAAnB;AACA,UAAOT,UAAUU,SAAV,CAAoBhB,MAApB,CAAP;AACA,GAHM,CAAP;AAIA,EALD;AAMA,CAPD,MAOO;AACNQ,QAAOE,OAAP,CAAe,YAAW;AACzB,SAAOO,QAAQC,OAAR,CAAgB,YAAW;AACjC,OAAIP,WAAWC,QAAX,CAAoBC,GAApB,CAAwB,mBAAxB,CAAJ,EAAkD;AACjDb,WAAOC,SAAP,GAAmBU,WAAWC,QAAX,CAAoBC,GAApB,CAAwB,mBAAxB,CAAnB;AACA,WAAOP,UAAUU,SAAV,CAAoBhB,MAApB,CAAP;AACA;AACD,GALM,CAAP;AAMA,EAPD;AAQA,mF","file":"/packages/rocketchat_wordpress.js","sourcesContent":["/* globals CustomOAuth */\n\nconst config = {\n\tserverURL: '',\n\tidentityPath: '/oauth/me',\n\taddAutopublishFields: {\n\t\tforLoggedInUser: ['services.wordpress'],\n\t\tforOtherUsers: ['services.wordpress.user_login']\n\t}\n};\n\nconst WordPress = new CustomOAuth('wordpress', config);\n\nif (Meteor.isServer) {\n\tMeteor.startup(function() {\n\t\treturn RocketChat.settings.get('API_Wordpress_URL', function(key, value) {\n\t\t\tconfig.serverURL = value;\n\t\t\treturn WordPress.configure(config);\n\t\t});\n\t});\n} else {\n\tMeteor.startup(function() {\n\t\treturn Tracker.autorun(function() {\n\t\t\tif (RocketChat.settings.get('API_Wordpress_URL')) {\n\t\t\t\tconfig.serverURL = RocketChat.settings.get('API_Wordpress_URL');\n\t\t\t\treturn WordPress.configure(config);\n\t\t\t}\n\t\t});\n\t});\n}\n"]}