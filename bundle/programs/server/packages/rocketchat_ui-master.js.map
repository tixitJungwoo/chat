{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:ui-master/server/inject.js"],"names":["Inject","rawHead","rawBody","process","env","DISABLE_ANIMATION","TEST_MODE","RocketChat","settings","get","key","value","standardFavicons","rawModHtml","html","script","replace","Meteor","defer","baseUrl","__meteor_runtime_config__","ROOT_URL_PATH_PREFIX","trim","test"],"mappings":"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","file":"/packages/rocketchat_ui-master.js","sourcesContent":["/* globals Inject */\n\nInject.rawHead('page-loading', `\n<style>\n.loading-animation {\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tposition: absolute;\n\tjustify-content: center;\n\ttext-align: center;\n}\n.loading-animation > div {\n\twidth: 10px;\n\theight: 10px;\n\tmargin: 2px;\n\tborder-radius: 100%;\n\tdisplay: inline-block;\n\tbackground-color: rgba(255,255,255,0.6);\n\t-webkit-animation: loading-bouncedelay 1.4s infinite ease-in-out both;\n\tanimation: loading-bouncedelay 1.4s infinite ease-in-out both;\n}\n.loading-animation .bounce1 {\n\t-webkit-animation-delay: -0.32s;\n\tanimation-delay: -0.32s;\n}\n.loading-animation .bounce2 {\n\t-webkit-animation-delay: -0.16s;\n\tanimation-delay: -0.16s;\n}\n@-webkit-keyframes loading-bouncedelay {\n\t0%,\n\t80%,\n\t100% { -webkit-transform: scale(0) }\n\t40% { -webkit-transform: scale(1.0) }\n}\n@keyframes loading-bouncedelay {\n\t0%,\n\t80%,\n\t100% { transform: scale(0); }\n\t40% { transform: scale(1.0); }\n}\n</style>`);\n\nInject.rawBody('page-loading-div', `\n<div id=\"initial-page-loading\" class=\"page-loading\">\n\t<div class=\"loading-animation\">\n\t\t<div class=\"bounce1\"></div>\n\t\t<div class=\"bounce2\"></div>\n\t\t<div class=\"bounce3\"></div>\n\t</div>\n</div>`);\n\nif (process.env.DISABLE_ANIMATION || process.env.TEST_MODE === 'true') {\n\tInject.rawHead('disable-animation', `\n\t<style>\n\t\tbody, body * {\n\t\t\tanimation: none !important;\n\t\t\ttransition: none !important;\n\t\t}\n\t</style>\n\t<script>\n\t\twindow.DISABLE_ANIMATION = true;\n\t</script>\n\t`);\n}\n\nRocketChat.settings.get('Assets_SvgFavicon_Enable', (key, value) => {\n\tconst standardFavicons = `\n\t\t<link rel=\"icon\" sizes=\"16x16\" type=\"image/png\" href=\"assets/favicon_16.png\" />\n\t\t<link rel=\"icon\" sizes=\"32x32\" type=\"image/png\" href=\"assets/favicon_32.png\" />`;\n\n\tif (value) {\n\t\tInject.rawHead(key,\n\t\t\t`${ standardFavicons }\n\t\t\t<link rel=\"icon\" sizes=\"any\" type=\"image/svg+xml\" href=\"assets/favicon.svg\" />`);\n\t} else {\n\t\tInject.rawHead(key, standardFavicons);\n\t}\n});\n\nRocketChat.settings.get('theme-color-primary-background-color', (key, value = '#04436a') => {\n\tInject.rawHead(key, `<style>body { background-color: ${ value };}</style>` +\n\t\t\t\t\t\t`<meta name=\"msapplication-TileColor\" content=\"${ value }\" />` +\n\t\t\t\t\t\t`<meta name=\"theme-color\" content=\"${ value }\" />`);\n});\n\nRocketChat.settings.get('Accounts_ForgetUserSessionOnWindowClose', (key, value) => {\n\tif (value) {\n\t\tInject.rawModHtml(key, (html) => {\n\t\t\tconst script = `\n\t\t\t\t<script>\n\t\t\t\t\tif (Meteor._localStorage._data === undefined && window.sessionStorage) {\n\t\t\t\t\t\tMeteor._localStorage = window.sessionStorage;\n\t\t\t\t\t}\n\t\t\t\t</script>\n\t\t\t`;\n\t\t\treturn html.replace(/<\\/body>/, `${ script }\\n</body>`);\n\t\t});\n\t} else {\n\t\tInject.rawModHtml(key, (html) => {\n\t\t\treturn html;\n\t\t});\n\t}\n});\n\nRocketChat.settings.get('Site_Name', (key, value = 'Rocket.Chat') => {\n\tInject.rawHead(key,\n\t\t`<title>${ value }</title>` +\n\t\t`<meta name=\"application-name\" content=\"${ value }\">` +\n\t\t`<meta name=\"apple-mobile-web-app-title\" content=\"${ value }\">`);\n});\n\nRocketChat.settings.get('Meta_language', (key, value = '') => {\n\tInject.rawHead(key,\n\t\t`<meta http-equiv=\"content-language\" content=\"${ value }\">` +\n\t\t`<meta name=\"language\" content=\"${ value }\">`);\n});\n\nRocketChat.settings.get('Meta_robots', (key, value = '') => {\n\tInject.rawHead(key, `<meta name=\"robots\" content=\"${ value }\">`);\n});\n\nRocketChat.settings.get('Meta_msvalidate01', (key, value = '') => {\n\tInject.rawHead(key, `<meta name=\"msvalidate.01\" content=\"${ value }\">`);\n});\n\nRocketChat.settings.get('Meta_google-site-verification', (key, value = '') => {\n\tInject.rawHead(key, `<meta name=\"google-site-verification\" content=\"${ value }\" />`);\n});\n\nRocketChat.settings.get('Meta_fb_app_id', (key, value = '') => {\n\tInject.rawHead(key, `<meta property=\"fb:app_id\" content=\"${ value }\">`);\n});\n\nRocketChat.settings.get('Meta_custom', (key, value = '') => {\n\tInject.rawHead(key, value);\n});\n\nMeteor.defer(() => {\n\tlet baseUrl;\n\tif (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX && __meteor_runtime_config__.ROOT_URL_PATH_PREFIX.trim() !== '') {\n\t\tbaseUrl = __meteor_runtime_config__.ROOT_URL_PATH_PREFIX;\n\t} else {\n\t\tbaseUrl = '/';\n\t}\n\tif (/\\/$/.test(baseUrl) === false) {\n\t\tbaseUrl += '/';\n\t}\n\tInject.rawHead('base', `<base href=\"${ baseUrl }\">`);\n});\n\n"]}